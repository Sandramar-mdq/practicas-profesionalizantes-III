<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Creacion de Usuario</title>
    <link rel="stylesheet" href="styles.css">
</head> 

<html>

<body>

<h3>Formulario de Alta de Usuario</h3>

<div>
  <form action="/action_page.php">
    <label for="nuser">Número de  usuario</label>
    <input type="text" id="nuser" name="numuser" placeholder="Escriba su numero de usuario..">

    <label for="fname">Nombre</label>
    <input type="text" id="fname" name="firstname" placeholder="Escriba su nombre..">

    <label for="sname">Apellido</label>
    <input type="text" id="sname" name="surname" placeholder="Escriba su apellido..">

    <label for="mail">Correo electrónico</label>
    <input type="text" id="mail" name="email" placeholder="Escriba su correo electrónico..">

  
    <input type="submit" value="Dar de Alta">

  </form>
</div>

</body>
<script type="text/javascript">


function getFormValues()
{
  let createForm = 
  {
      idUser: null,
      userName: null,
      surname: null,
      email: null
  };

  createForm.idUser = document.getElementById('nuser').value;
  createForm.userName = document.getElementById('fname').value;
  createForm.surname = document.getElementById('sname').value;
  createForm.email = document.getElementById('mail').value;

  return createForm;
}


function onCreateButtonClick()
{
  fetch ('./create.php', {method: 'POST', body: JSON.stringify(getFormValues())
    }).then(response => response.json() ).then( response => {alert(response.description); } );

}


  document.getElementById('createUserButton'). addEventListener('click',()=> onCreateButtonClick() );
</script>

</html>


